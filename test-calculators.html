<!DOCTYPE html>
<html>
<head>
    <title>MLA Calculator Test</title>
</head>
<body>
    <h1>MLA Calculator Test</h1>
    
    <div>
        <h2>BMI Calculator Test</h2>
        <input type="number" id="bmi-weight" placeholder="Weight (kg)" value="70">
        <input type="number" id="bmi-height" placeholder="Height (cm)" value="170">
        <select id="bmi-ethnicity">
            <option value="standard">Standard</option>
            <option value="asian">Asian</option>
        </select>
        <button onclick="testBMI()">Test BMI</button>
        <div id="bmi-result"></div>
    </div>

    <div>
        <h2>Frailty Calculator Test</h2>
        <select id="frailty-select">
            <option value="1">1 - Very Fit</option>
            <option value="2">2 - Well</option>
            <option value="3">3 - Managing Well</option>
            <option value="4">4 - Vulnerable</option>
            <option value="5">5 - Mildly Frail</option>
        </select>
        <button onclick="testFrailty()">Test Frailty</button>
        <div id="frailty-detail-result"></div>
    </div>

    <!-- Load the required scripts -->
    <script src="/static/js/v2/extracted-calculators.js"></script>
    <script type="module" src="/static/js/v2/main.js"></script>
    
    <script>
        function testBMI() {
            if (window.quizApp && window.quizApp.calculateBMI) {
                console.log('Testing BMI calculator...');
                window.quizApp.calculateBMI();
            } else {
                console.error('BMI calculator not available');
                document.getElementById('bmi-result').innerHTML = '<p style="color: red;">BMI calculator not available</p>';
            }
        }
        
        function testFrailty() {
            if (window.quizApp && window.quizApp.calculateFrailty) {
                console.log('Testing Frailty calculator...');
                window.quizApp.calculateFrailty();
            } else {
                console.error('Frailty calculator not available');
                document.getElementById('frailty-detail-result').innerHTML = '<p style="color: red;">Frailty calculator not available</p>';
            }
        }
        
        // Check if calculators are available after page loads
        setTimeout(() => {
            console.log('=== Calculator Availability Test ===');
            console.log('window.ExtractedCalculators:', !!window.ExtractedCalculators);
            console.log('window.quizApp:', !!window.quizApp);
            console.log('window.calculatorBridge:', !!window.calculatorBridge);
            
            if (window.quizApp) {
                console.log('Available calculator functions:', Object.keys(window.quizApp).filter(k => k.startsWith('calculate')));
            }
            
            if (window.ExtractedCalculators) {
                console.log('Available extracted calculators:', Object.keys(window.ExtractedCalculators).filter(k => k.startsWith('calculate')));
            }
        }, 2000);
    </script>
</body>
</html>